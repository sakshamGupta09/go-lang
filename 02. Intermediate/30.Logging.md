# Logging

## Why

- Debugging Problems. If your app crashes in production, you canâ€™t sit inside the server and see what happened.Logs tell you: What happened, When it happened, In what order it happened, What data was involved.
- Monitoring System Health. Logs help answer: Is the server running? Are requests failing? Is database slow? Are users getting errors?
- Security. Logs help detect: Repeated failed login attempts, Suspicious activity, Unauthorized access

## Log package

- We typically use `log` package for logging information.
- It automatically adds data and time top our logged information.

```go
log.Println("Server started")

// 2026/02/19 04:30:12 Server started
```

## log.Fatalf

- Logs something and then closes program.


## Adding levels

- If we want to differentiate between different logs based on some tags like `info`, `warning`, `error` etc.

```go
func main() {
	log.SetPrefix("Info")
	log.Println("This is an info message") // Info 2026/02/19 05:25:05 This is an info message
}
```

## Log Flags

- We can customize what information to display with log message.
- Date, Time, File name and Line number

```go
func main() {
	log.SetFlags(log.Ldate | log.Ltime | log.Lshortfile | log.Llongfile)
	log.Println("This is an info message")

	// 2026/02/19 05:28:53 hello-world.go:9: This is an info message
}
```

## Create a custom logger with prefix and flags

```go
func main() {
	infoLogger.Println("This is an info message")
	warnLogger.Println("This is an warning message")
	errorLogger.Println("This is an error message")

	/*
		INFO: 2026/02/19 05:38:14 hello-world.go:13: This is an info message
		WARN: 2026/02/19 05:38:14 hello-world.go:14: This is an warning message
		ERROR: 2026/02/19 05:38:14 hello-world.go:15: This is an error message
	*/
}
```


## Writing logs to a file

- First, we will open a file. But what if file is not present? We pass a flag so that it creates a file if not already present.
- OpenFile takes 3 arguments, File name, Flags and the permissions.
- We use flags like `O_APPEND` because we want to keep writing to the file and not overwrite previous contents. `O_WONLY` because we want to write contents to this file.
- For permissions we need to define users can read, view or write into this file just like our OS would do.
