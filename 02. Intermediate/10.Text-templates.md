# Text templates

- To generate dynamic text(email, HTML) static content plus dynamic data in a safe and clean way.
- Like a order receipt after a user has placed an order, or a text that generates a new set of credentials for the user.
- We create the dynamic text with placeholder values that will be replaced by data later.
- It provides rich set of features like variable insertion, conditionals, loops to generate dynamic text.


## Steps

- Create a new template using `template.New(template name)` which returns a template.
- Provide the text and parse it.
- Prepare the data structure that the template needs. Data can be a value, slice or a struct.
- Fill the template placeholders with data using `temp.execute()`
- If template parsing fails, it panics.

```go
	temp := template.Must(template.New("orders").Parse("Hello, {{.name}}. Thanks for shopping with us.\n"))

	data := map[string]string{
		"name": "John",
	}

	err := temp.Execute(os.Stdout, data)

	if err != nil {
		panic(err)
	}
```

## Core Concepts

- {{.}} → current data
- {{.Field}} → struct field
- {{range}} → loops
- {{if}} → conditionals

## 1️⃣ {{.}} → Current Data

```go
package main

import (
	"os"
	"text/template"
)

func main() {
	tmpl := template.Must(template.New("t").Parse("Hello {{.}}"))
	tmpl.Execute(os.Stdout, "Saksham")
}
```

## 2️⃣ {{.Field}} → Struct Field

```go
type User struct {
	Name string
	Age  int
}

func main() {
	tmpl := template.Must(template.New("t").Parse(
		"Name: {{.Name}}, Age: {{.Age}}",
	))

	user := User{Name: "Saksham", Age: 25}
	tmpl.Execute(os.Stdout, user)
}
```

## 3️⃣ {{range}} → Loop Over Slice

```go
package main

import (
	"os"
	"text/template"
)

func main() {
	tmpl := template.Must(template.New("t").Parse(`
Items:
{{range .}}
- {{.}}
{{end}}
`))

	items := []string{"Go", "React", "Docker"}
	tmpl.Execute(os.Stdout, items)
}
```

## 4️⃣ {{if}} → Conditional Rendering

```go
package main

import (
	"os"
	"text/template"
)

type User struct {
	Name   string
	IsAdmin bool
}

func main() {
	tmpl := template.Must(template.New("t").Parse(`
{{if .IsAdmin}}
Welcome Admin {{.Name}}
{{else}}
Welcome User {{.Name}}
{{end}}
`))

	user := User{Name: "Saksham", IsAdmin: true}
	tmpl.Execute(os.Stdout, user)
}
```
