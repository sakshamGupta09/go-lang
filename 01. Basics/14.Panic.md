# Panic

- `panic` is used to stop normal execution immediately when something unrecoverable happens.
- Errors are expected like when we try to establish connection with a database or make a network call.
- Panics are for bugs and impossible states that should never happen.
- We can call `panic` with any type of argument(string, number, boolean).


## Common causes of panic

ðŸ”¹ Index out of range

```go
arr := []int{1, 2, 3}
fmt.Println(arr[5]) // panic: index out of range
```

ðŸ”¹ Nil pointer dereference

```go
var p *int
fmt.Println(*p) // panic: invalid memory address
```

ðŸ”¹ Divide by zero

```go
x := 10 / 0 // panic
```

ðŸ”¹ Writing to a nil map

```go
var m map[string]int
m["a"] = 1 // panic
```

ðŸ”¹ Programmer-Triggered Panics

```go
func init() {
    if os.Getenv("PORT") == "" {
        panic("PORT not set")
    }
}
```

## What happens when panic occurs?

- The current function stops execution immediately
- All deferred functions are executed (LIFO order)
- The program crashes and prints a stack trace
- Unless recovered, the program terminates

```go
func main() {
	process(-1)
	fmt.Println("After processing is done")
}

func process(i int) {
	defer fmt.Println("DEFER STATEMENT")
	if i < 0 {
		panic("Negative intergers are not allowed")
	}
	fmt.Println("Normal processing")
}
```
