# Maps

- To store key value pairs like in a dictionary. Each key must be unique.
- Insertion, deletion and search by key are constant time operations.
- Maps are unordered which means when iterating over them, order is not guaranteed.
- Struct also gives us key value pairs but there fields are defined at compile time. Maps can add or remove keys dynamically at runtime.


## Declaration

- map[keyType]valueType
- We can also use `make` function.
- It gets assigned value of `nil` and since it has `nil` we cannot insert values into this map.

```go
func main() {
	var m map[string]string

	m2 := make(map[string]string)

}
```

## Initialization

```go
func main() {
	var m map[string]string = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	fmt.Println(m)
}
```

## Insertion or Updation

- Map[key] = value
- If key does not exists, we add a new key value pair else we update the value.

```go
func main() {
	var m map[string]string = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	m["key3"] = "value3"

	fmt.Println(m)
}
```

## Read value 

- map[key] will return the value.
- In case the key is not present, it will return a default value for the value type.

```go
func main() {
	var m map[string]string = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	fmt.Println(m["key1"]) // value1
	fmt.Println(m["key3"]) // ''
}
```

## Check if key exists or not

- value, exists := map[key]
- When we read value of a key, it returns two things. The value and whether the key exists or not.

```go
func main() {
	var m map[string]string = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	value, exists := m["key1"]

	fmt.Println(value, exists) // value1 true

	value, exists = m["key3"]

	fmt.Println(value, exists) // '' false
}
```

## Delete

- Delete(map, key)

```go
func main() {
	var m map[string]string = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	delete(m, "key1")
	fmt.Println(m) // map[key2:value2]
}
```

## Clear all items

- clear(map)


## Maps are passed by reference

```go
func main() {
	var m = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	var m2 = m

	m2["key3"] = "value3"

	fmt.Println(m)  // map[key1:value1 key2:value2 key3:value3]
	fmt.Println(m2) // map[key1:value1 key2:value2 key3:value3]
}
```

## Equality check

- map.Equal(m1, m2)
- Deep equality check.

```go
func main() {
	var m = map[string]string{
		"key1": "value1",
		"key2": "value2updated",
	}

	var m2 = map[string]string{
		"key1": "value1",
		"key2": "value2",
	}

	fmt.Println(maps.Equal(m, m2)) // false
}
```


## Iterating over map

```go
func main() {
	var m = map[string]string{
		"key1": "value1",
		"key2": "value2",
		"key3": "value3",
	}

	for k, v := range m {
		fmt.Println(k, v)
	}

	for _, v := range m {
		fmt.Println(v)
	}

}
```

## Size of map

- len(map) will return the size of the map.
